<main class="main-container">

  <div class="sidebar" *ngIf="isLoggedIn">
    <div class="menu-header">MENU</div>

    <div *ngIf="pageData$ | async as data">
      <div class="section-header">
        Studies
      </div>

      <div class="study-list" *ngIf="data?.dashboardNames && data.dashboardNames.length > 0">
        <button class="study-item" *ngFor="let name of data.dashboardNames" [routerLink]="['/dashboard/' + name]" routerLinkActive="active">
          {{ name }}
        </button>
      </div>

      <div class="no-studies" *ngIf="!data?.dashboardNames || data.dashboardNames.length === 0">
        <p>No studies available</p>
      </div>
    </div>

    <div class="section-header logout-section" (click)="logout()">
      Logout
    </div>
  </div>

  <div class="content-area">
    <div class="hero r-6" *ngIf="!isLoggedIn">
      <div class="sign-in">
        <div class="row align-items-center ">
          <div class="col-md-6">
            <h2>Welcome to Digital Trails Portal</h2>
            <div class="text-body-secondary">
              Access your research dashboard, manage projects, and collaborate with team members.
              Sign in to view your personalized workspace and continue your research journey.
            </div>
            <a routerLink="/dashboard" class="btn btn-primary btn-lg mt-3">Sign In</a>
          </div>

          <div class="col-md-6 text-center d-none d-md-block">
            <img src="logo.svg" alt="Digital Trails Logo" height="300">
          </div>
        </div>
      </div>
    </div>
    <loading-indicator />
    <router-outlet></router-outlet>
  </div>
</main>